(()=>{"use strict";var e={29:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n{static textUTF8toBase64(e,t=!0){let o;if("undefined"!=typeof window&&"function"==typeof window.btoa)o=window.btoa(unescape(encodeURIComponent(e)));else if("undefined"!=typeof Buffer)try{o=Buffer.from(e,"utf-8").toString("base64")}catch(t){o=Buffer.from(e).toString("base64")}else{if("function"!=typeof btoa){const t=new Uint8Array((new TextEncoder).encode(e));return n.Uint8ArrToBase64(t)}o=btoa(unescape(encodeURIComponent(e)))}return t?o.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""):o}static base64toTextUTF8(e){if(!e.length)return"";if(e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,""),!/^[A-Za-z0-9+/=]+$/.test(e))return null;for(;e.length%4;)e+="=";if("undefined"!=typeof Buffer)return Buffer.from(e,"base64").toString("utf-8");const t=n.clearBase64ToHex(e),o=n.hexToUint8Arr(t);return n.Uint8ArrToTextUTF8(o)}static Uint8ArrToTextUTF8(e){return new TextDecoder("utf-8").decode(e)}static hexExplode(e){const t=[],n=e.length,o=/^[0-9a-fA-F]$/;for(let r=0;r<n;r++){const n=e[r];if(o.test(n)){const a=e[r+1];o.test(a)?(t.push(n+a),r++):t.push("0"+n)}}return t}static hexToUint8Arr(e){const t=n.hexExplode(e);if("undefined"!=typeof Buffer)try{return Buffer.from(t.join(""),"hex")}catch(e){}let o=[];for(let e of t)o.push(parseInt(e,16));return new Uint8Array(o)}static Uint8ArrToBase64(e,t=!1){const o=e.length;if(!e.length)return"";if("undefined"!=typeof Buffer&&e instanceof Buffer)return t?e.toString("base64url").replace(/=/g,""):e.toString("base64");let r=t?n.base64Chars.slice(0,-3)+"-_":n.base64Chars,a="",s=0;for(;s<o;){const t=e[s++]<<16|(s<o?e[s++]:0)<<8|(s<o?e[s++]:0);a+=r.charAt(t>>18&63)+r.charAt(t>>12&63)+r.charAt(t>>6&63)+r.charAt(63&t)}switch(o%3){case 1:return a.slice(0,-2)+(t?"":"==");case 2:return a.slice(0,-1)+(t?"":"=")}return a}static hexToBase64(e,t=!1){const o=n.hexToUint8Arr(e);return n.Uint8ArrToBase64(o,t)}static base64ToHex(e){if(!e.length)return"";if(e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,""),!/^[A-Za-z0-9+/=]+$/.test(e))return null;for(;e.length%4;)e+="=";return"undefined"!=typeof Buffer?Buffer.from(e,"base64").toString("hex"):n.clearBase64ToHex(e)}static Uint8ArrToHexStr(e){return Array.from(e).map((e=>e.toString(16).padStart(2,"0"))).join("")}static clearBase64ToHex(e){let t="";const o=n.base64Chars;for(let n=0;n<e.length;n+=4){const r=o.indexOf(e[n])<<18|o.indexOf(e[n+1])<<12|o.indexOf(e[n+2])<<6|o.indexOf(e[n+3]),a="="===e[n+2]?2:"="===e[n+3]?4:6;for(let e=0;e<a;e++)t+="0123456789abcdef"[r>>20-4*e&15]}return t}}n.base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t.default=n},765:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initConfig=t.reloadConfig=void 0;const c=a(n(496)),i=s(n(599)),u=s(n(659));function d(e=null){const t=c.workspace.getConfiguration("base85"),n=t.get("splitWidth"),o=t.get("addPrefixes"),r=t.get("encodeMode"),a=t.get("menuEncodeEnable"),s=t.get("menuDecoder"),d=t.get("urlModeBase64");if(void 0!==n&&n!==i.default.splitWidth&&(i.default.splitWidth=n),void 0!==o&&o!==i.default.addPf&&(i.default.addPf=o),void 0!==r){let e=0;"ascii85 (classic)"===r?e=1:"vwx (ascii85 + vwx)"===r?e=2:"vc85 (ascii85 + vwx + vc85)"===r?e=3:c.window.showErrorMessage("Unknown encodeMode option value"),e!==i.default.currentEncodeMode&&i.default.init(e)}void 0!==a&&a!==u.default.menuEncodeEnabled&&(u.default.menuEncodeEnabled=a),void 0!==s&&s!==u.default.menuDecoderEnabled&&(u.default.menuDecoderEnabled=s),void 0!==d&&d!==u.default.menuBase64UrlMode&&(u.default.menuBase64UrlMode=d)}t.reloadConfig=d,t.initConfig=function(){d(),c.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration("base85")&&d(e)}))}},112:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{i(o.next(e))}catch(e){a(e)}}function c(e){try{i(o.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}i((o=o.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.base85ToBase64=t.SELECTIONBase85toBase64=t.base85ToHex=t.SELECTIONBase85toHex=t.hexToBase85=t.SELECTIONhexToBase85=t.base64ToBase85=t.SELECTIONBase64toBase85=t.base64ToHex=t.SELECTIONBase64toHex=t.hexToBase64=t.SELECTIONhexToBase64=t.textFromHex=t.SELECTIONfromHEX=t.textToHex=t.SELECTIONtoHEX=t.base64ToText=t.SELECTIONfromBase64=t.textToBase64url=t.SELECTIONtoBase64url=t.textToBase64=t.SELECTIONtoBase64=t.textFromVC85=t.SELECTIONfromBase85=t.textToBase85=t.SELECTIONtoVC85=t.deactivate=t.activate=void 0;const i=a(n(496)),u=c(n(599)),d=c(n(29)),l=a(n(765)),f=c(n(659));function m(e,t=""){return()=>s(this,void 0,void 0,(function*(){const n=i.window.activeTextEditor;if(!n)return;const{document:o,selections:r}=n,a=[];for(const e of r){const t=o.getText(e);t.length&&a.push(t)}let s=a.join("\n");if(s.length<1){if(!t)return void i.window.showWarningMessage("No text selected!");s=o.getText()}const c=e(s);if(c)if(t){const e=yield i.workspace.openTextDocument({content:c,language:t});i.window.showTextDocument(e)}else n.edit((e=>{e.replace(n.selection,c)})).then((()=>{f.default.onSelectionChangeByEditor(n)}))}))}function h(e){return x(e)}function x(e){try{return u.default.encode(e)}catch(e){i.window.showErrorMessage(`Failed encode to vc85: ${e.message}`)}return null}function b(e){return g(e)}function g(e){try{return u.default.decode(e)}catch(e){i.window.showErrorMessage(`Failed decode from vc85: ${e.message}`)}return null}function E(e){return p(e)}function p(e){try{return d.default.textUTF8toBase64(e,f.default.menuBase64UrlMode)}catch(e){i.window.showErrorMessage(`Failed encode text to base64: ${e.message}`)}return null}function T(e){try{return d.default.textUTF8toBase64(e,!0)}catch(e){i.window.showErrorMessage(`Failed encode text to base64url: ${e.message}`)}return null}function w(e){return C(e)}function C(e){try{return d.default.base64toTextUTF8(e)}catch(e){i.window.showErrorMessage(`Failed decode text from base64 or base64url: ${e.message}`)}return null}function y(e){return B(e)}function B(e){try{const t=d.default.textUTF8toBase64(e);return d.default.base64ToHex(t)}catch(e){i.window.showErrorMessage(`Failed encode text to HEX: ${e.message}`)}return null}function v(e){return O(e)}function O(e){try{const t=d.default.hexToUint8Arr(e);return d.default.Uint8ArrToTextUTF8(t)}catch(e){i.window.showErrorMessage(`Failed decode text from HEX: ${e.message}`)}return null}function S(e){return M(e)}function M(e){try{return d.default.hexToBase64(e,f.default.menuBase64UrlMode)}catch(e){i.window.showErrorMessage(`Failed convert hex to base64: ${e.message}`)}return null}function _(e){return U(e)}function U(e){try{return d.default.base64ToHex(e)}catch(e){i.window.showErrorMessage(`Failed convert base64 to hex: ${e.message}`)}return null}function A(e){return H(e)}function H(e){try{const t=d.default.base64ToHex(e);if("string"==typeof t){const e=d.default.hexToUint8Arr(t);return u.default.encodeUint8Arr(new Uint8Array(e))}}catch(e){i.window.showErrorMessage(`Failed convert base64 to hex: ${e.message}`)}return null}function I(e){return j(e)}function j(e){try{const t=d.default.hexToUint8Arr(e);return u.default.encodeUint8Arr(new Uint8Array(t))}catch(e){i.window.showErrorMessage(`Failed convert hex to base85: ${e.message}`)}return null}function D(e){return F(e)}function F(e){try{const t=u.default.decodeToUint8Arr(e),n=d.default.Uint8ArrToBase64(t);return d.default.base64ToHex(n)}catch(e){i.window.showErrorMessage(`Failed convert base85 to hex: ${e.message}`)}return null}function L(e){return N(e)}function N(e){try{const t=u.default.decodeToUint8Arr(e);return d.default.Uint8ArrToBase64(t)}catch(e){i.window.showErrorMessage(`Failed convert base85 to base64: ${e.message}`)}return null}t.activate=function(e){l.initConfig(),e.subscriptions.push(i.commands.registerCommand("base85.encode",m(h))),e.subscriptions.push(i.commands.registerCommand("base85.decode",m(b))),e.subscriptions.push(i.commands.registerCommand("base85.textToBase64",m(E))),e.subscriptions.push(i.commands.registerCommand("base85.base64ToText",m(w))),e.subscriptions.push(i.commands.registerCommand("base85.hexToText",m(v))),e.subscriptions.push(i.commands.registerCommand("base85.textToHex",m(y))),e.subscriptions.push(i.commands.registerCommand("base85.hexToBase64",m(S))),e.subscriptions.push(i.commands.registerCommand("base85.base64ToHex",m(_))),e.subscriptions.push(i.commands.registerCommand("base85.base64ToBase85",m(A))),e.subscriptions.push(i.commands.registerCommand("base85.hexToBase85",m(I))),e.subscriptions.push(i.commands.registerCommand("base85.base85ToHex",m(D))),e.subscriptions.push(i.commands.registerCommand("base85.base85ToBase64",m(L))),i.window.onDidChangeTextEditorSelection(f.default.onSelectionChange)},t.deactivate=function(){},t.SELECTIONtoVC85=h,t.textToBase85=x,t.SELECTIONfromBase85=b,t.textFromVC85=g,t.SELECTIONtoBase64=E,t.textToBase64=p,t.SELECTIONtoBase64url=function(e){return T(e)},t.textToBase64url=T,t.SELECTIONfromBase64=w,t.base64ToText=C,t.SELECTIONtoHEX=y,t.textToHex=B,t.SELECTIONfromHEX=v,t.textFromHex=O,t.SELECTIONhexToBase64=S,t.hexToBase64=M,t.SELECTIONBase64toHex=_,t.base64ToHex=U,t.SELECTIONBase64toBase85=A,t.base64ToBase85=H,t.SELECTIONhexToBase85=I,t.hexToBase85=j,t.SELECTIONBase85toHex=D,t.base85ToHex=F,t.SELECTIONBase85toBase64=L,t.base85ToBase64=N},659:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(496));class c{static onSelectionChange(e){return c.onSelectionChangeByEditor(e.textEditor)}static onSelectionChangeByEditor(e){const{document:t,selection:n}=e,o=t.languageId;c.docIsB85=".b85"===o;let r=c.docIsB85,a=!0,i=!1,u=!1,d=!1,l=!1;const f=t.getText(n);if(f){let e=f.length,t="";const n=" \t\n\r";for(;e&&(t=f[e-1],!(n.indexOf(t)<0));)e--;let o=0;for(;o<e&&!(n.indexOf(f[o])<0);)o++,e--;if(e>1){let s=f.charAt(o);if(e>7&&(u=/^[0-9a-fA-F\s]*$/.test(f.substring(o,o+e)),u&&e>15?(d=!0,e<32&&(l=!0)):l=/^[A-Za-z0-9+\-_/=\s]*$/.test(f.substring(o,o+e))),"by Context"===c.menuDecoderEnabled||"on <~...~>"===c.menuDecoderEnabled)if(f.indexOf("~",o)===o+1&&"<"===s)r=!0,a=!1,i=!0;else if("on <~...~>"===c.menuDecoderEnabled)r=!1;else if(d&&e>32||l&&e>64)r=!1,a=!1;else{let a=!1,s=f.indexOf("\n",o);if(s>o&&s<o+e){let t=f.substring(o,o+e).split("\n");for(let e of t)if(/\s/.test(e.trim())){r=!1,a=!0,l=!1;break}e=s-o}if(!a){for(;e&&(t=f[o+e-1],!(n.indexOf(t)<0));)e--;e>1&&(r=/^[!-zЯЖДПЦЩщжфцЭяюдБГэъЪФИЮШшлйЛ\s]*$/u.test(f.substring(o,o+e)))}}else r="Always"===c.menuDecoderEnabled}}r!==c.menuCanDecode&&(c.menuCanDecode=r,s.commands.executeCommand("setContext","base85.canDecode",c.menuCanDecode).then((()=>c.menuCanDecode))),c.menuEncodeEnabled||(a=!1),a!==c.menuCanEncode&&(c.menuCanEncode=a,s.commands.executeCommand("setContext","base85.canEncode",c.menuCanEncode).then((()=>c.menuCanEncode))),i!==c.menuSelExactly85&&(c.menuSelExactly85=i,s.commands.executeCommand("setContext","base85.selExactly85",c.menuSelExactly85).then((()=>c.menuSelExactly85))),u!==c.menuSelMaybeHex&&(c.menuSelMaybeHex=u,s.commands.executeCommand("setContext","base85.selMaybeHex",c.menuSelMaybeHex).then((()=>c.menuSelMaybeHex))),d!==c.menuSelExactlyHex&&(c.menuSelExactlyHex=d,s.commands.executeCommand("setContext","base85.selExactlyHex",c.menuSelExactlyHex).then((()=>c.menuSelExactlyHex))),l!==c.menuSelMaybeB64&&(c.menuSelMaybeB64=l,s.commands.executeCommand("setContext","base85.selMaybeB64",c.menuSelMaybeB64).then((()=>c.menuSelMaybeB64)))}}c.menuEncodeEnabled=!0,c.menuDecoderEnabled="by Context",c.docIsB85=!1,c.menuSelMaybeHex=!1,c.menuSelExactlyHex=!1,c.menuSelMaybeB64=!1,c.menuCanDecode=!1,c.menuCanEncode=!1,c.menuSelExactly85=!1,c.menuBase64UrlMode=!1,t.default=c},599:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e=null,t=null,o=null){"number"==typeof e&&n.init(e),"number"==typeof t&&(n.splitWidth=Math.floor(t)),null!==o&&(n.addPf=!!o)}static init(e=0){if(e||(e=n.defaultEncodeMode),n.currentEncodeMode===e)return;let t=118;for(let o=0;o<85;o++){let r=33+o;if(n.vc85dec[r]=o,34===r||39===r||92===r){const a=t++;n.vc85dec[a]=o,e>1&&(r=a)}n.vc85enc[o]=String.fromCharCode(r)}const o=[223,198,196,207,214,217,249,230,244,246,221,255,254,228,193,195,253,250,218,212,200,222,216,248,235,233,203];["!Я","#Ж","$Д","%П","&Ц","(Щ",")щ","*ж","+ф",",ц","-Э",".я","/ю",":д",";Б","<Г","=э",">ъ","?Ъ","@Ф","IИ","OЮ","[Ш","]ш","^л","`й","lЛ"].forEach(((t,r)=>{const a=t.charCodeAt(0),s=t.charCodeAt(t.length-1),c=o[r],i=a-33;e>2&&(n.vc85enc[i]=4===e?String.fromCharCode(c):t.substring(1)),n.vc85dec[s]=i,n.vc85dec[c]=i,s>1088?n.vc85dec[s-960]=i:s>1024&&(n.vc85dec[s-896]=i)})),n.currentEncodeMode=e}static encode(e){const t=new Uint8Array((new TextEncoder).encode(e));return n.encodeUint8Arr(t)}static encodeUint8Arr(e){n.currentEncodeMode||n.init();const t=e.length,o=t%4,r=o?4-o:0,a=r?new Uint8Array(t+r):e;r&&a.set(e);const s=new DataView(a.buffer),c=n.addPf?["<~"]:[],i=[52200625,614125,7225,85,1],u=n.vc85enc;for(let e=0;e<t;e+=4){let t=s.getUint32(e,!1),n="";i.forEach((e=>{const o=t%e;n+=u[Math.floor(t/e)],t=o})),c.push(n)}if(r){const e=c.length-1;c[e]=c[e].substring(0,5-r)}return n.addPf&&c.push("~>"),n.splitWidth>0?n.implodeSplitter(c):c.join("")}static implodeSplitter(e){const t=e.join("").match(new RegExp(`.{1,${n.splitWidth}}`,"g"))||[];return">"===t[t.length-1]&&(t[t.length-2]+=">",t[t.length-1]=""),"<"===t[0]&&(t[0]="<~",t[1]=""),t.join("\n")}static decodeToUint8Arr(e){n.currentEncodeMode||n.init();let t=e.indexOf("<~");t=t<0?0:t+2;const o=e.indexOf("~>",t);let r=o>0?e.substring(t,o):e.substring(t);r=r.replace(/\s/g,"").replace(/z/g,"!!!!!").replace(/y/g,"+<VdL");const a=r.length%5,s=a?5-a:0,c=r+n.vc85enc[84].repeat(s),i=[];return c.match(/.{1,5}/g).forEach((e=>{let t=0;e.split("").forEach((e=>{const o=e.charCodeAt(0);t=85*t+(void 0!==n.vc85dec[o]?n.vc85dec[o]:0)}));for(let e=3;e>=0;e--)i.push(t>>8*e&255)})),a?new Uint8Array(i.slice(0,-s)):new Uint8Array(i)}static decode(e){let t=n.decodeToUint8Arr(e);return new TextDecoder("utf-8").decode(t)}}n.vc85enc=[],n.vc85dec={},n.currentEncodeMode=0,n.defaultEncodeMode=2,n.splitWidth=75,n.addPf=!0,t.default=n},496:e=>{e.exports=require("vscode")}},t={},n=function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}(112),o=exports;for(var r in n)o[r]=n[r];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();
//# sourceMappingURL=extension.js.map